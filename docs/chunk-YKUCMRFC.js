import{c as d}from"./chunk-A5WTIVW3.js";import{Aa as f,d as i,g as u,h as n,j as c,m as a,r as p,u as h}from"./chunk-UVVUGJ4E.js";var y="https://fakestoreapi.com/products",b="https://gist.githubusercontent.com/railsstudent/ae150ae2b14abb207f131596e8b283c3/raw/131a6b3a51dfb4d848b75980bfe3443b1665704b/featured-products.json",F=(()=>{let r=class r{constructor(){this.httpClient=h(f),this.query=d()}getProducts(){return this.query({queryKey:["products"],queryFn:()=>this.httpClient.get(y)})}getProduct(t){return this.query({queryKey:["products",t],queryFn:()=>this.getProductQuery(t),staleTime:2*60*1e3})}getProductQuery(t){return this.httpClient.get(`${y}/${t}`).pipe(c(e=>(console.error(e),i(void 0))))}getFeaturedProducts(){return this.query({queryKey:["feature_products"],queryFn:()=>this.httpClient.get(b).pipe(u(({ids:t})=>t),a(t=>{let e=t.map(o=>this.getProductQuery(o));return n(e)}),u(t=>{let e=[];return t.forEach(o=>{o&&e.push(o)}),e}))})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{F as a};
