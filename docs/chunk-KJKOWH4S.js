import{g as L}from"./chunk-RQSI7IOO.js";import{b as $,c as y}from"./chunk-TNOY33VQ.js";import{$ as l,$a as x,Ab as w,Ba as p,La as d,Oa as f,Pa as _,Qa as P,Ra as h,Sa as i,Ta as o,Ua as s,Ya as v,Z as g,_a as c,eb as m,fb as b,gb as E,hb as O,ib as D,ta as T,v as M}from"./chunk-RFOVZSMI.js";var j=e=>[e],S=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l({type:t,selectors:[["app-product"]],inputs:{product:"product"},standalone:!0,features:[m],decls:19,vars:7,consts:[[1,"container"],[1,"image-container"],["alt","image","width","100","height","100",3,"src"],["for","id"],["id","id","name","id"],["for","name"],["id","name","name","name"],[3,"routerLink"],["for","price"],["id","price","name","price"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"div",1),s(2,"img",2),o(),i(3,"label",3)(4,"span",4),c(5,"Id: "),o(),i(6,"span"),c(7),o()(),i(8,"label",5)(9,"span",6),c(10,"Title: "),o(),i(11,"span")(12,"a",7),c(13),o()()(),i(14,"label",8)(15,"span",9),c(16,"Price: "),o(),i(17,"span"),c(18),o()()()),n&2&&(p(2),d("src",a.product.image,T),p(5),x(a.product.id),p(5),d("routerLink",E(5,j,a.product.id)),p(1),x(a.product.title),p(5),x(a.product.price))},dependencies:[L],styles:["div.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid black;padding:.5rem;height:calc(100% - 1rem)}div.image-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:.5rem}label[_ngcontent-%COMP%]:first-of-type{margin-bottom:10px}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{color:#aaa;width:20%}label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){width:80%}"],changeDetection:0});let e=t;return e})();function R(e,t){e&1&&(i(0,"p"),c(1,"Loading featured products..."),o())}var q=(e,t)=>t.id;function z(e,t){if(e&1&&s(0,"app-product",2),e&2){let u=t.$implicit;d("product",u)}}function A(e,t){e&1&&(i(0,"div",1),P(1,z,1,1,"app-product",3,q),o()),e&2&&(p(1),h(t))}function B(e,t){if(e&1&&(i(0,"h2"),c(1,"Featured Products"),o(),f(2,A,3,0,"div",0),s(3,"hr")),e&2){let u=v(),r;p(2),_(2,(r=u.data)?2:-1,r)}}function J(e,t){e&1&&f(0,R,2,0,"p")(1,B,4,1),e&2&&_(0,t.isLoading?0:t.isSuccess?1:-1)}var k=(()=>{let t=class t{constructor(){this.productService=g(y)}ngOnInit(){let r=this.ids.map(n=>this.productService.getProduct(n).result$);this.products$=M(r).pipe($(n=>{let a=[];return n.forEach(C=>C&&a.push(C)),a}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l({type:t,selectors:[["app-feature-products"]],inputs:{ids:"ids"},standalone:!0,features:[m],decls:2,vars:3,consts:[["class","featured"],[1,"featured"],[1,"item",3,"product"],["class","item",3,"product"]],template:function(n,a){if(n&1&&(f(0,J,2,1),O(1,"async")),n&2){let C;_(0,(C=D(1,1,a.products$))?0:-1,C)}},dependencies:[S,w],styles:["h2[_ngcontent-%COMP%], hr[_ngcontent-%COMP%]{margin-bottom:.5rem}div.featured[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:.75rem}div.featured[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]{flex-basis:250px}"],changeDetection:0});let e=t;return e})();function U(e,t){e&1&&(i(0,"p"),c(1,"Loading..."),o())}function G(e,t){e&1&&(i(0,"p"),c(1,"Error"),o())}var H=(e,t)=>t.id;function K(e,t){if(e&1&&s(0,"app-product",0),e&2){let u=t.$implicit;d("product",u)}}function N(e,t){e&1&&P(0,K,1,1,"app-product",0,H),e&2&&h(t)}function Q(e,t){if(e&1&&f(0,N,2,0),e&2){let u=v(),r;_(0,(r=u.products().data)?0:-1,r)}}var I=(()=>{let t=class t{constructor(){this.products=g(y).getProducts().result}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l({type:t,selectors:[["app-product-list"]],standalone:!0,features:[m],decls:6,vars:1,consts:[[3,"product"]],template:function(n,a){n&1&&(i(0,"h2"),c(1,"Catalogue"),o(),i(2,"div"),f(3,U,2,0,"p")(4,G,2,0)(5,Q,1,1),o()),n&2&&(p(3),_(3,a.products().isLoading?3:a.products().isError?4:a.products().isSuccess?5:-1))},dependencies:[S],styles:["div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:stretch}app-product[_ngcontent-%COMP%]{flex-basis:250px;height:300px;margin-bottom:1rem}"],changeDetection:0});let e=t;return e})();var V=()=>[4,19],gt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l({type:t,selectors:[["app-product-catalogue"]],standalone:!0,features:[m],decls:2,vars:2,consts:[[3,"ids"]],template:function(n,a){n&1&&s(0,"app-feature-products",0)(1,"app-product-list"),n&2&&d("ids",b(1,V))},dependencies:[k,I],encapsulation:2,changeDetection:0});let e=t;return e})();export{gt as ProductCatalogueComponent};
